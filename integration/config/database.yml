# PostgreSQL database configuration for integration app
#
# This integration app is for development/testing only, not for production deployment.
#
# Environment Variables (all optional with sensible defaults):
#   DB_ADAPTER             - Database adapter (postgresql for testing, future: mysql2, sqlite3)
#   DB_HOST                - Database host (default: localhost, Docker: postgres)
#   DB_PORT                - Database port (default: 5432)
#   DB_NAME                - Database name (default: better_structure_sql_<env>)
#   DB_USERNAME            - Database username (default: postgres)
#   DB_PASSWORD            - Database password (default: postgres)
#   RAILS_MAX_THREADS      - Connection pool size (default: 5)
#
# Future Multi-Database Support:
#   The gem is designed to support MySQL and SQLite in the future.
#   Change DB_ADAPTER to test with different databases once supported.

default: &default
  adapter: <%= ENV.fetch("DB_ADAPTER", "postgresql") %>
  encoding: unicode
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  host: <%= ENV.fetch("DB_HOST", "localhost") %>
  port: <%= ENV.fetch("DB_PORT", 5432) %>
  username: <%= ENV.fetch("DB_USERNAME", "postgres") %>
  password: <%= ENV.fetch("DB_PASSWORD", "postgres") %>

development:
  <<: *default
  database: <%= ENV.fetch("DB_NAME", "better_structure_sql_development") %>

test:
  <<: *default
  database: <%= ENV.fetch("DB_TEST_NAME", "better_structure_sql_test") %>
